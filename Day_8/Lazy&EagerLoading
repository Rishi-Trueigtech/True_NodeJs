Lazy & Eager Loading in Sequelize

In Sequelize, when fetching data from the database, you can retrieve related data (associations) in two ways:

1ï¸âƒ£ Lazy Loading â€“ Fetch only the main data first and load related data later when needed.

2ï¸âƒ£ Eager Loading â€“ Fetch both the main data and related data at the same time.

1ï¸âƒ£ Lazy Loading (On-Demand Fetching)
ğŸ”¹ Example: Fetch a User first, then fetch their Posts separately.

const user = await User.findByPk(1); // Fetch user with ID 1
const posts = await user.getPosts(); // Fetch related posts separately

â¡ How it works:

It first gets the user.
Then, when user.getPosts() is called, it makes another query to get posts.
This is useful when you donâ€™t always need related data.
ğŸ”¹ Disadvantage: More database queries, which can be slower.

2ï¸âƒ£ Eager Loading (Preloading Data)
ğŸ”¹ Example: Fetch a User along with their Posts in one query.

const user = await User.findByPk(1, { include: Post }); // Fetch user + posts together

â¡ How it works:

It fetches both the user and their posts in one query.
This reduces database calls and is faster when related data is always needed.
ğŸ”¹ Disadvantage: If you donâ€™t always need related data, you might fetch unnecessary information.

Which One to Use?
âœ… Use Lazy Loading when you don't always need related data.
âœ… Use Eager Loading when you always need related data for better performance.
